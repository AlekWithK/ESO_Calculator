#include <stdio.h>
int main(int c, char *v[]) {
    return v[1][0] == ' ' ? ((v[1][0] = 'x') && (v[1][1] = '\n') && (v[1][2] = ' ') && (v[1][3] = ' ') && (v[1][4] = ' ') && (v[1][5] = ' ') && (v[1][6] = ' ') && (v[1][7] = ' ') && (v[1][8] = ' ') && (v[1][9] = ' ') && (v[1][10] = ' ') && (v[1][11] = 0) == 0 && main(c, v)) : (v[1][11] < 3 ? (printf("%s%c%s%c|%c|%c\n%s", v[1][11]++ == 0 ? "Your move, " : "", v[1][11] < 1 ? v[1][0] : '\0', v[1][11] < 1 ? " [1-9]:\n" : "", v[1][v[1][11]*3+2], v[1][v[1][11]*3+1+2], v[1][v[1][11]*3+2+2], v[1][11] < 2 ? "-+-+-\n" : "") && main(c, v)) : (((v[1][11] = 0) == 0 && (v[1][1] = getchar()) >= '1' && v[1][1] < '9'+1 && v[1][v[1][1]-'1'+2] == ' ' && ((v[1][v[1][1]-'1'+2] = v[1][0]) && (((v[1][0+2] == v[1][0] && ((v[1][1+2] == v[1][0] && v[1][2+2] == v[1][0]) || (v[1][3+2] == v[1][0] && v[1][6+2] == v[1][0]) || (v[1][4+2] == v[1][0] && v[1][8+2] == v[1][0]))) || (v[1][4+2] == v[1][0] && ((v[1][1+2] == v[1][0] && v[1][7+2] == v[1][0]) || (v[1][3+2] == v[1][0] && v[1][5+2] == v[1][0]) || (v[1][2+2] == v[1][0] && v[1][6+2] == v[1][0]))) || (v[1][8+2] == v[1][0] && ((v[1][2+2] == v[1][0] && v[1][5+2] == v[1][0]) || (v[1][6+2] == v[1][0] && v[1][7+2] == v[1][0])))) ? 1 : (v[1][0] = v[1][0] == 'x' ? 'o' : 'x') * 0))) ? printf("Congratulations, %c, you win!\n", v[1][0]) : main(c, v))); // Please end my suffering
}